{"version":3,"sources":["./src/sticksy.js"],"names":["window","Sticksy","States","target","options","Error","Element","Object","prototype","toString","call","targetEl","Utils","findElement","containerEl","parentNode","this","_props","topSpacing","enabled","listen","onStateChanged","nodeRef","_initialize","instances","enabledInstances","that","state","_stickyNodes","_dummyNodes","sibling","clone","cloneNode","style","visibility","pointerEvents","className","removeAttribute","insertBefore","push","nextElementSibling","_stickyNodesHeight","_limits","top","bottom","_isListening","position","_shouldCollapseMargins","getComputedStyle","display","indexOf","_mutationObserver","MutationObserver","hardRefresh","_startListen","observe","attributes","characterData","childList","subtree","_stopListen","disconnect","_calcState","windowOffset","_updateStickyNodesHeight","getComputedBox","length","bottomWithMargin","topWithMargin","_updateLimits","stickyNodes","containerBox","topNodeBox","paddingBottom","_applyState","_resetElements","_disableElements","_fixElementsSize","_fixElements","_stuckElements","_enableElements","refresh","pageYOffset","oldState","enable","disable","splice","elements","previousMarginBottom","offset","i","el","box","extraMarginTop","Math","max","marginTop","height","marginBottom","previousMarginTop","extraMarginBottom","forEach","width","stickyNode","refreshAll","hardRefreshAll","enableAll","slice","disableAll","copy","initializeAll","ignoreNothingFound","get","document","querySelectorAll","parents","stickyElements","map","addEventListener","parseNumber","val","parseFloat","root","querySelector","undefined","elem","getBoundingClientRect","paddingTop","jQueryPlugin","$","jQuery","Zepto","fn","sticksy","opts"],"mappings":"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"}